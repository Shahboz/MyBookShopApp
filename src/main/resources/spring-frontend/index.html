<!--END-->
<!--END--><!DOCTYPE html><!--[if IE 7]>
<html class="ie7" lang="ru">
<![endif]-->
<!--[if IE 8]>
<html class="ie8" lang="ru">
<![endif]-->
<!--[if IE 9]>
<html class="ie9" lang="ru">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="ru" xmlns:th="http://www.thymeleaf.org"> <!--<![endif]-->
<head th:replace="~{fragments/head_fragment :: headFragment(64223515)}"></head>
<body class="Site">
  <!--if lt IE 8
  p.error-browser
      | Ваш браузер&nbsp;
      em устарел!&nbsp;
      a(href="http://browsehappy.com/") Выберите новую версию
          +s
          | браузера здесь&nbsp;
      | для правильного отображения сайта.
  -->
  <header th:replace="~{fragments/header_fragment :: headFragment(itemActive=1)}"></header>
  <div class="Middle">
    <div class="wrap">
      <main class="Middle-main">
        <div class="Section">
          <div class="Section-header">
            <h2 class="Section-title" th:text="#{menubar.recommended}">Рекомендуемое</h2>
          </div>
          <div class="Cart-messageInfo" th:if="${recommendedBooks == null or #lists.isEmpty(recommendedBooks)}" th:text="#{label.book.recommended.empty}">Рекомендуемых книг нет</div>
          <div class="Slider Slider_carousel" th:if="${!#lists.isEmpty(recommendedBooks)}">
            <div class="Slider-box Cards" data-load="recommended" data-loadoffset="0" th:attr="data-loadlimit=${refreshLimit}">
              <div class="Slider-item" th:each="book : ${recommendedBooks}" th:if="${!#lists.contains(boughtBooks, book) && !#lists.contains(keptBooks, book) && !#lists.contains(cartBooks, book)}">
                <div class="Slider-content">
                  <div th:replace="~{fragments/book_fragment :: printBook(book=${book})}"></div>
                </div>
              </div>
            </div>
            <div class="Slider-navigateWrap">
              <div class="Slider-navigate"></div>
            </div>
            <div class="Slider-load">
              <div class="Slider-load-text">Идет загрузка данных</div>
            </div>
          </div>
          <div class="Section-header">
            <h2 class="Section-title" th:text="#{menubar.news}">Новинки</h2>
          </div>
          <div class="Cart-messageInfo" th:if="${newBooks == null or #lists.isEmpty(newBooks)}" th:text="#{label.book.new.empty}">Новых книг нет</div>
          <div class="Slider Slider_carousel" th:if="${!#lists.isEmpty(newBooks)}">
            <div class="Slider-box Cards" data-load="recent" data-loadoffset="0" th:attr="data-loadlimit=${refreshLimit}">
              <div class="Slider-item" th:each="book : ${newBooks}" th:if="${!#lists.contains(boughtBooks, book) && !#lists.contains(keptBooks, book) && !#lists.contains(cartBooks, book)}">
                <div class="Slider-content">
                  <div th:replace="~{fragments/book_fragment :: printBook(book=${book})}"></div>
                </div>
              </div>
            </div>
            <div class="Slider-navigateWrap">
              <div class="Slider-navigate"></div>
            </div>
            <div class="Slider-load">
              <div class="Slider-load-text">Идет загрузка данных</div>
            </div>
          </div>
          <div class="Section-header">
            <h2 class="Section-title" th:text="#{menubar.popular}">Популярное</h2>
          </div>
          <div class="Cart-messageInfo" th:if="${popularBooks == null or #lists.isEmpty(popularBooks)}" th:text="#{label.book.popular.empty}">Популярных книг нет</div>
          <div class="Slider Slider_carousel" th:if="${!#lists.isEmpty(popularBooks)}">
            <div class="Slider-box Cards" data-load="popular" data-loadoffset="0" th:attr="data-loadlimit=${refreshLimit}">
              <div class="Slider-item" th:each="book : ${popularBooks}" th:if="${!#lists.contains(boughtBooks, book) && !#lists.contains(keptBooks, book) && !#lists.contains(cartBooks, book)}">
                <div class="Slider-content">
                  <div th:replace="~{fragments/book_fragment :: printBook(book=${book})}"></div>
                </div>
              </div>
            </div>
            <div class="Slider-navigateWrap">
              <div class="Slider-navigate"></div>
            </div>
            <div class="Slider-load">
              <div class="Slider-load-text">Идет загрузка данных</div>
            </div>
          </div>
        </div>
        <h2 class="Middle-title" th:text="#{menubar.booksByTags}">Книги по тегам</h2>
        <div class="Tags" id="tags">
          <div th:each="tag : ${tagBooks.keySet()}"
               th:class="${tagBooks.get(tag)}>3 ? 'Tag Tag_lg' : (${tagBooks.get(tag)}==3 ? 'Tag Tag_md' : (${tagBooks.get(tag)}==2 ? 'Tag' : (${tagBooks.get(tag)}==1 ? 'Tag Tag_sm' : 'Tag Tag_xs')))">
            <a href="/tags/index.html" th:href="'/tags/' + ${tag.getSlug()}" th:text="${tag.getName()}">современная литература</a>
          </div>
        </div>
      </main>
    </div>
  </div>
  <footer th:replace="~{fragments/footer_fragment :: footFragment}"></footer>
  <script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
  <!--+menu(-->
  <!--    'Это раз',-->
  <!--    'Это два',-->
  <!--    'Это три'-->
  <!--)-->
  <!--br-->
  <!--br-->
  <!--+menu._vt-->
  <!--    +menuItem Это раз-->
  <!--    +menuItem.-item_danger Это два-->
  <!--    +menuItem Это три-->
</body></html>